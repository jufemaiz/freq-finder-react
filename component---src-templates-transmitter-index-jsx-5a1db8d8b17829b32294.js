(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{129:function(e,t,a){"use strict";a.r(t);a(28);var i=a(6),n=a.n(i),l=a(4),r=a.n(l),o=a(0),s=a.n(o),c=a(205),m=a(162),d=a.n(m),u=a(172),p=a(46),g=a.n(p),E=a(235),v=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={elevationProfile:[],scriptElement:null},a.onScriptLoad=a.onScriptLoad.bind(g()(g()(a))),a}n()(t,e);var a=t.prototype;return a.componentDidMount=function(){if(window.google)this.onScriptLoad();else{var e=document.createElement("script");e.type="text/javascript",e.src="https://maps.google.com/maps/api/js?key=AIzaSyAuUwqWGIlroxZGbQqWxccO4Nll24udLTg";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),this.setState({scriptElement:e}),e.addEventListener("load",this.onScriptLoad())}},a.componentWillUnmount=function(){var e=this.state.scriptElement;null!==e&&e.removeEventListener("load",this.onScriptLoad)},a.onScriptLoad=function(){var e=this,t=this.props,a=t.location1,i=t.location2,n=[{lat:a.latitude,lng:a.longitude},{lat:i.latitude,lng:i.longitude}],l=new window.google.maps.ElevationService,r={path:n,samples:256};new Promise(function(e,t){l||t(new Error("ElevationService not supported")),l.getElevationAlongPath(r,function(t){e(t)},function(){t(new Error("Permission denied"))})}).then(function(t){e.setState({elevationProfile:t})})},a.render=function(){var e=this.state.elevationProfile.map(function(e){return parseFloat(e.elevation.toFixed(2))}),t={labels:new Array(256),datasets:[{borderColor:"#673ab7",borderWidth:1,radius:0,label:"Elevation Profile",fill:!1,lineTension:0,data:e}]};return s.a.createElement("div",{className:"elevation-profile",style:{marginTop:"20px"}},s.a.createElement(E.a,{data:t,options:{legend:{display:!1},xAxes:[{display:!1,gridLines:{display:!1},labels:{show:!1}}],yAxes:[{display:!1,gridLines:{display:!1},labels:{show:!1}}]},height:100}))},t}(o.Component);v.propTypes={location1:r.a.shape.isRequired,location2:r.a.shape.isRequired};var h=v;a.d(t,"query",function(){return w});var N={fullscreenControl:!1},f=function(e){function t(t){var a;(a=e.call(this,t)||this).getLocation=function(){var e=navigator.geolocation;new Promise(function(t,a){e||a(new Error("Not Supported")),e.getCurrentPosition(function(e){t(e)},function(){a(new Error("Permission denied"))})}).then(function(e){var t=a.state.transmitter,i=t.latitude,n=t.longitude,l=e.coords,r=l.latitude,o=l.longitude,s=d()({lat:r,lng:o},{lat:i,lng:n},{exact:!0,unit:"km"});a.setState({distance:s.toFixed(2),positionAcquired:!0,position:e})})};var i=t.data.transmitterListing20110702Json;return a.state={distance:0,positionAcquired:!1,position:{coords:{latitude:i.latitude,longitude:i.longitude}},transmitter:i},a}n()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.getLocation()},a.componentWillUnmount=function(){},a.render=function(){var e=this.state,t=e.distance,a=e.positionAcquired,i=this.props.google,n=this.state.position.coords,l={lat:n.latitude,lng:n.longitude},r=this.state.transmitter,o={latitude:r.latitude,longitude:r.longitude},m=null;a&&(m=s.a.createElement(h,{location1:n,location2:o}));var d=r.antennaHeight,p=r.antennaPattern,g=r.areaServed,E=r.band,v=r.callsign,f=r.frequency,w=r.hoursofOperation,y=r.latitude,b=r.licenceArea,L=r.licenceNumber,x=r.longitude,S=r.maximumCMF,P=r.maximumERP,q=r.polarisation,A=r.purpose,T=r.siteName,W=r.state,C=r.transmitterPower;return s.a.createElement(u.a,null,s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("h1",null,v," ",f,E))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header"},"Site Details"),s.a.createElement("ul",{className:"list-group list-group-flush"},s.a.createElement("li",{className:"list-group-item"},T),s.a.createElement("li",{className:"list-group-item"},w),s.a.createElement("li",{className:"list-group-item"},t,"km away"),s.a.createElement("li",{className:"list-group-item"},s.a.createElement("a",{href:"http://maps.google.com.au/maps?q="+y+","+x},y,","," ",x)),s.a.createElement("li",{className:"list-group-item"},s.a.createElement("span",{className:"badge badge-primary"},A)),s.a.createElement("li",{className:"list-group-item"},g),s.a.createElement("li",{className:"list-group-item"},b),s.a.createElement("li",{className:"list-group-item"},W),s.a.createElement("li",{className:"list-group-item"},"License",L)))),s.a.createElement("div",{className:"col"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header"},"Transmitter Details"),s.a.createElement("ul",{className:"list-group list-group-flush"},s.a.createElement("li",{className:"list-group-item"},d,"m high"),s.a.createElement("li",{className:"list-group-item"},p),s.a.createElement("li",{className:"list-group-item"},C),s.a.createElement("li",{className:"list-group-item"},S),s.a.createElement("li",{className:"list-group-item"},P),s.a.createElement("li",{className:"list-group-item"},q))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("div",{className:"card",style:{height:"200px"}},s.a.createElement("div",{className:"card-header"},"Elevation Profile"),m)),s.a.createElement("div",{className:"col"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header"},"Map"),s.a.createElement("div",{className:"card-img-bottom",style:{height:"200px"}},s.a.createElement(c.Map,{google:i,zoom:10,style:N,initialCenter:l})))))))},t}(o.Component);f.defaultProps={google:null},f.propTypes={data:r.a.shape({transmitterListing20110702Json:r.a.shape.isRequired}).isRequired,google:r.a.shape};t.default=Object(c.GoogleApiWrapper)({apiKey:"AIzaSyAuUwqWGIlroxZGbQqWxccO4Nll24udLTg"})(f);var w="2337569289"}}]);
//# sourceMappingURL=component---src-templates-transmitter-index-jsx-5a1db8d8b17829b32294.js.map