(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{129:function(e,t,a){"use strict";a.r(t);a(28);var i=a(6),n=a.n(i),l=a(4),s=a.n(l),o=a(0),r=a.n(o),c=a(205),m=a(162),d=a.n(m),u=a(172),p=a(46),g=a.n(p),E=a(235),h=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={elevationProfile:[],scriptElement:null},a.onScriptLoad=a.onScriptLoad.bind(g()(g()(a))),a}n()(t,e);var a=t.prototype;return a.componentDidMount=function(){if(window.google)this.onScriptLoad();else{var e=document.createElement("script");e.type="text/javascript",e.src="https://maps.google.com/maps/api/js?key=AIzaSyAuUwqWGIlroxZGbQqWxccO4Nll24udLTg";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),this.setState({scriptElement:e}),e.addEventListener("load",this.onScriptLoad())}},a.componentWillUnmount=function(){var e=this.state.scriptElement;null!==e&&e.removeEventListener("load",this.onScriptLoad)},a.onScriptLoad=function(){var e=this,t=this.props,a=t.location1,i=t.location2,n=[{lat:a.latitude,lng:a.longitude},{lat:i.latitude,lng:i.longitude}],l=new window.google.maps.ElevationService,s={path:n,samples:256};new Promise(function(e,t){l||t(new Error("ElevationService not supported")),l.getElevationAlongPath(s,function(t){e(t)},function(){t(new Error("Permission denied"))})}).then(function(t){e.setState({elevationProfile:t})})},a.render=function(){var e=this.state.elevationProfile.map(function(e){return parseFloat(e.elevation.toFixed(2))}),t={labels:new Array(256),datasets:[{borderColor:"#673ab7",borderWidth:1,radius:0,label:"Elevation Profile",fill:!1,lineTension:0,data:e}]};return r.a.createElement("div",{className:"elevation-profile",style:{marginTop:"20px"}},r.a.createElement(E.a,{data:t,options:{legend:{display:!1},xAxes:[{display:!1,gridLines:{display:!1},labels:{show:!1}}],yAxes:[{display:!1,gridLines:{display:!1},labels:{show:!1}}]},height:100}))},t}(o.Component);h.propTypes={location1:s.a.shape.isRequired,location2:s.a.shape.isRequired};var v=h;a.d(t,"query",function(){return w});var N={fullscreenControl:!1},f=function(e){function t(t){var a;(a=e.call(this,t)||this).getLocation=function(){var e=navigator.geolocation;new Promise(function(t,a){e||a(new Error("Not Supported")),e.getCurrentPosition(function(e){t(e)},function(){a(new Error("Permission denied"))})}).then(function(e){var t=a.state.transmitter.latitude,i=a.state.transmitter.longitude,n=e.coords.latitude,l=e.coords.longitude,s=d()({lat:n,lng:l},{lat:t,lng:i},{exact:!0,unit:"km"});a.setState({distance:s.toFixed(2),positionAcquired:!0,position:e})})};var i=t.data.transmitterListing20110702Json;return a.state={distance:0,positionAcquired:!1,position:{coords:{latitude:i.latitude,longitude:i.longitude}},transmitter:i},a}n()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.getLocation()},a.componentWillUnmount=function(){},a.render=function(){var e=this.state,t=e.distance,a=e.positionAcquired,i=this.props.google,n={lat:this.state.position.coords.latitude,lng:this.state.position.coords.longitude},l={latitude:this.state.position.coords.latitude,longitude:this.state.position.coords.longitude},s={latitude:this.state.transmitter.latitude,longitude:this.state.transmitter.longitude},o=null;a&&(o=r.a.createElement(v,{location1:l,location2:s}));var m=this.state.transmitter,d=m.antennaHeight,p=m.antennaPattern,g=m.areaServed,E=(m.bSL,m.band),h=m.callsign,f=(m.easting,m.frequency),w=m.hoursofOperation,y=(m.id,m.latitude),b=m.licenceArea,L=(m.licenceAreaID,m.licenceNumber),S=m.longitude,x=m.maximumCMF,A=m.maximumERP,q=(m.northing,m.onAirID,m.polarisation),P=m.purpose,T=(m.siteId,m.siteName),W=m.state,C=(m.status,m.technicalSpecificationNumber,m.transmitterPower);m.zone;return r.a.createElement(u.a,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h1",null,h," ",f,E))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Site Details"),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item"},T),r.a.createElement("li",{className:"list-group-item"},w),r.a.createElement("li",{className:"list-group-item"},t,"km away"),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("a",{href:"http://maps.google.com.au/maps?q="+y+","+S},y,","," ",S)),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",{className:"badge badge-primary"},P)),r.a.createElement("li",{className:"list-group-item"},g),r.a.createElement("li",{className:"list-group-item"},b),r.a.createElement("li",{className:"list-group-item"},W),r.a.createElement("li",{className:"list-group-item"},"License",L)))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Transmitter Details"),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item"},d,"m high"),r.a.createElement("li",{className:"list-group-item"},p),r.a.createElement("li",{className:"list-group-item"},C),r.a.createElement("li",{className:"list-group-item"},x),r.a.createElement("li",{className:"list-group-item"},A),r.a.createElement("li",{className:"list-group-item"},q))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card",style:{height:"200px"}},r.a.createElement("div",{className:"card-header"},"Elevation Profile"),o)),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Map"),r.a.createElement("div",{className:"card-img-bottom",style:{height:"200px"}},r.a.createElement(c.Map,{google:i,zoom:10,style:N,initialCenter:n})))))))},t}(o.Component);f.propTypes={data:s.a.shape({transmitterListing20110702Json:s.a.shape.isRequired}).isRequired,google:s.a.shape};t.default=Object(c.GoogleApiWrapper)({apiKey:"AIzaSyAuUwqWGIlroxZGbQqWxccO4Nll24udLTg"})(f);var w="2337569289"}}]);
//# sourceMappingURL=component---src-templates-transmitter-jsx-f2ff882c8807090eafbe.js.map